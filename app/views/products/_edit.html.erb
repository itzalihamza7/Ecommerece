<%= form_with model: product,validate: true do |form| %>
  <div class="form-group">
    <%= form.label :title %>
    <%= form.text_field :title, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= form.label :description %>
    <%= form.text_area :description, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= form.label :price %>
    <%= form.number_field :price, step: :any, class: 'form-control' %>
  </div>

  <div class="form-group">
    <%= form.label :quantity %>
    <%= form.number_field :quantity, class: 'form-control' %>
  </div>

  <div class="form-group" >
    <%= form.label :header_image %>
    <%= form.file_field :header_image , accept: 'image/jpeg,image/webp,image/png' %>
    <div class="mt-1">
      <% if product.header_image.attached? %>
        <small>Current image:</small>
        <%= image_tag(product.header_image, width: '10%') %>
        <%= link_to 'remove' , attachement_path(product.header_image.id), method: :delete %>
      <% end%>
    </div>
  </div>

  <div class="form-group">
    <%= form.label :description_images %>
    <%= form.file_field :description_images, multiple: true , accept: 'image/jpeg,image/webp,image/png' %>
    <div class="mt-1">
      <% if product.description_images.attached? %>
        <small>Current images:</small>
        <% product.description_images.each do |image| %>
          <%= image_tag(image, width: '10%') %>
          <%= link_to 'remove' , attachement_path(image.id), method: :delete %>
        <% end %>
      <% end %>
    </div>
  </div>

  <div class="actions">
    <%= form.submit class: 'btn btn-primary btn-block' %>
  </div>
<% end %>
